; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 323
OpCapability Shader
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %241 "foo_vert" %236 %239
OpEntryPoint Fragment %278 "foo_frag" %277
OpEntryPoint GLCompute %297 "atomics"
OpEntryPoint GLCompute %320 "assign_through_ptr"
OpExecutionMode %278 OriginUpperLeft
OpExecutionMode %297 LocalSize 1 1 1
OpExecutionMode %320 LocalSize 1 1 1
OpSource GLSL 450
OpName %4 "u32"
OpName %35 "vec3<u32>"
OpName %6 "i32"
OpMemberName %36 0 "a"
OpMemberName %36 1 "b"
OpMemberName %36 2 "c"
OpName %36 "GlobalConst"
OpMemberName %37 0 "value"
OpName %37 "AlignedWrapper"
OpName %38 "mat4x3<f32>"
OpName %40 "mat2x2<f32>"
OpName %42 "array<mat2x2<f32>, 2>"
OpName %6 "atomic<i32>"
OpName %43 "vec2<u32>"
OpName %44 "array<vec2<u32>, 2>"
OpName %45 "array<AlignedWrapper>"
OpMemberName %46 0 "_matrix"
OpMemberName %46 1 "matrix_array"
OpMemberName %46 2 "atom"
OpMemberName %46 3 "arr"
OpMemberName %46 4 "data"
OpName %46 "Bar"
OpName %47 "mat3x2<f32>"
OpMemberName %48 0 "m"
OpName %48 "Baz"
OpName %49 "vec2<i32>"
OpName %50 "ptr<i32>"
OpName %51 "ptr<Baz>"
OpName %52 "ptr<mat3x2<f32>>"
OpName %53 "ptr<f32>"
OpName %41 "vec2<f32>"
OpName %10 "f32"
OpName %54 "ptr<Baz>"
OpName %55 "ptr<mat3x2<f32>>"
OpName %56 "ptr<f32>"
OpName %57 "mat4x2<f32>"
OpName %58 "array<mat4x2<f32>, 2>"
OpMemberName %59 0 "am"
OpName %59 "MatCx2InArray"
OpName %60 "ptr<MatCx2InArray>"
OpName %61 "ptr<array<mat4x2<f32>, 2>>"
OpName %62 "ptr<mat4x2<f32>>"
OpName %63 "ptr<MatCx2InArray>"
OpName %64 "ptr<array<mat4x2<f32>, 2>>"
OpName %65 "ptr<mat4x2<f32>>"
OpName %66 "ptr<f32>"
OpName %67 "array<f32, 10>"
OpName %68 "array<array<f32, 10>, 5>"
OpName %69 "vec4<f32>"
OpName %70 "ptr<Bar>"
OpName %71 "ptr<mat4x3<f32>>"
OpName %72 "ptr<f32>"
OpName %73 "ptr<array<AlignedWrapper>>"
OpName %74 "ptr<AlignedWrapper>"
OpName %75 "ptr<i32>"
OpName %76 "array<i32, 5>"
OpName %77 "ptr<array<i32, 5>>"
OpName %78 "vec4<i32>"
OpName %39 "vec3<f32>"
OpName %79 "ptr<atomic<i32>>"
OpName %80 "ptr<u32>"
OpName %89 "global_const"
OpName %91 "bar"
OpName %92 "baz"
OpName %95 "qux"
OpName %98 "nested_mat_cx2"
OpName %101 "val"
OpName %102 "idx"
OpName %104 "t"
OpName %107 "test_matrix_within_struct_accesses"
OpName %159 "idx"
OpName %161 "t"
OpName %164 "test_matrix_within_array_within_struct_accesses"
OpName %214 "foo"
OpName %215 "read_from_private"
OpName %220 "a"
OpName %221 "test_arr_as_arg"
OpName %227 "p"
OpName %228 "assign_through_ptr_fn"
OpName %231 "foo"
OpName %233 "c2"
OpName %236 "vi"
OpName %241 "foo_vert"
OpName %278 "foo_frag"
OpName %294 "tmp"
OpName %297 "atomics"
OpName %320 "assign_through_ptr"
OpMemberDecorate %36 0 Offset 0
OpMemberDecorate %36 1 Offset 16
OpMemberDecorate %36 2 Offset 28
OpMemberDecorate %37 0 Offset 0
OpDecorate %42 ArrayStride 16
OpDecorate %44 ArrayStride 8
OpDecorate %45 ArrayStride 8
OpMemberDecorate %46 0 Offset 0
OpMemberDecorate %46 0 ColMajor
OpMemberDecorate %46 0 MatrixStride 16
OpMemberDecorate %46 1 Offset 64
OpMemberDecorate %46 1 ColMajor
OpMemberDecorate %46 1 MatrixStride 8
OpMemberDecorate %46 2 Offset 96
OpMemberDecorate %46 3 Offset 104
OpMemberDecorate %46 4 Offset 120
OpMemberDecorate %48 0 Offset 0
OpMemberDecorate %48 0 ColMajor
OpMemberDecorate %48 0 MatrixStride 8
OpDecorate %58 ArrayStride 32
OpMemberDecorate %59 0 Offset 0
OpMemberDecorate %59 0 ColMajor
OpMemberDecorate %59 0 MatrixStride 8
OpDecorate %67 ArrayStride 4
OpDecorate %68 ArrayStride 40
OpDecorate %76 ArrayStride 4
OpDecorate %91 DescriptorSet 0
OpDecorate %91 Binding 0
OpDecorate %46 Block
OpDecorate %92 DescriptorSet 0
OpDecorate %92 Binding 1
OpDecorate %93 Block
OpMemberDecorate %93 0 Offset 0
OpDecorate %95 DescriptorSet 0
OpDecorate %95 Binding 2
OpDecorate %96 Block
OpMemberDecorate %96 0 Offset 0
OpDecorate %98 DescriptorSet 0
OpDecorate %98 Binding 3
OpDecorate %99 Block
OpMemberDecorate %99 0 Offset 0
OpDecorate %236 BuiltIn VertexIndex
OpDecorate %239 BuiltIn Position
OpDecorate %277 Location 0
%2 = OpTypeVoid
%4 = OpTypeInt 32 0
%3 = OpConstant  %4  0
%6 = OpTypeInt 32 1
%5 = OpConstant  %6  0
%7 = OpConstant  %6  2
%8 = OpConstant  %6  1
%10 = OpTypeFloat 32
%9 = OpConstant  %10  1.0
%11 = OpConstant  %10  2.0
%12 = OpConstant  %10  3.0
%13 = OpConstant  %10  6.0
%14 = OpConstant  %10  5.0
%15 = OpConstant  %10  4.0
%16 = OpConstant  %10  9.0
%17 = OpConstant  %10  90.0
%18 = OpConstant  %10  10.0
%19 = OpConstant  %10  20.0
%20 = OpConstant  %10  30.0
%21 = OpConstant  %10  40.0
%22 = OpConstant  %10  0.0
%23 = OpConstant  %10  8.0
%24 = OpConstant  %10  7.0
%25 = OpConstant  %6  10
%26 = OpConstant  %6  5
%27 = OpConstant  %6  4
%28 = OpConstant  %6  9
%29 = OpConstant  %4  3
%30 = OpConstant  %4  2
%31 = OpConstant  %6  3
%32 = OpConstant  %4  1
%33 = OpConstant  %6  42
%34 = OpConstant  %4  42
%35 = OpTypeVector %4 3
%36 = OpTypeStruct %4 %35 %6
%37 = OpTypeStruct %6
%39 = OpTypeVector %10 3
%38 = OpTypeMatrix %39 4
%41 = OpTypeVector %10 2
%40 = OpTypeMatrix %41 2
%42 = OpTypeArray %40 %7
%43 = OpTypeVector %4 2
%44 = OpTypeArray %43 %7
%45 = OpTypeRuntimeArray %37
%46 = OpTypeStruct %38 %42 %6 %44 %45
%47 = OpTypeMatrix %41 3
%48 = OpTypeStruct %47
%49 = OpTypeVector %6 2
%50 = OpTypePointer Function %6
%51 = OpTypePointer Uniform %48
%52 = OpTypePointer Uniform %47
%53 = OpTypePointer Uniform %41
%54 = OpTypePointer Function %48
%55 = OpTypePointer Function %47
%56 = OpTypePointer Function %41
%57 = OpTypeMatrix %41 4
%58 = OpTypeArray %57 %7
%59 = OpTypeStruct %58
%60 = OpTypePointer Uniform %59
%61 = OpTypePointer Uniform %58
%62 = OpTypePointer Uniform %57
%63 = OpTypePointer Function %59
%64 = OpTypePointer Function %58
%65 = OpTypePointer Function %57
%66 = OpTypePointer Function %10
%67 = OpTypeArray %10 %25
%68 = OpTypeArray %67 %26
%69 = OpTypeVector %10 4
%70 = OpTypePointer StorageBuffer %46
%71 = OpTypePointer StorageBuffer %38
%72 = OpTypePointer StorageBuffer %39
%73 = OpTypePointer StorageBuffer %45
%74 = OpTypePointer StorageBuffer %37
%75 = OpTypePointer StorageBuffer %6
%76 = OpTypeArray %6 %26
%77 = OpTypePointer Function %76
%78 = OpTypeVector %6 4
%79 = OpTypePointer StorageBuffer %6
%80 = OpTypePointer Workgroup %4
%81 = OpConstantComposite  %35  %3 %3 %3
%82 = OpConstantComposite  %36  %3 %81 %5
%83 = OpConstantComposite  %41  %22 %22
%84 = OpConstantComposite  %57  %83 %83 %83 %83
%85 = OpConstantComposite  %58  %84 %84
%86 = OpConstantComposite  %67  %22 %22 %22 %22 %22 %22 %22 %22 %22 %22
%87 = OpConstantComposite  %68  %86 %86 %86 %86 %86
%88 = OpConstantComposite  %49  %5 %5
%90 = OpTypePointer Private %36
%89 = OpVariable  %90  Private %82
%91 = OpVariable  %70  StorageBuffer
%93 = OpTypeStruct %48
%94 = OpTypePointer Uniform %93
%92 = OpVariable  %94  Uniform
%96 = OpTypeStruct %49
%97 = OpTypePointer StorageBuffer %96
%95 = OpVariable  %97  StorageBuffer
%99 = OpTypeStruct %59
%100 = OpTypePointer Uniform %99
%98 = OpVariable  %100  Uniform
%101 = OpVariable  %80  Workgroup
%103 = OpConstantNull  %6
%105 = OpConstantNull  %48
%108 = OpTypeFunction %2
%120 = OpTypePointer Uniform %10
%150 = OpTypePointer Function %10
%160 = OpConstantNull  %6
%162 = OpConstantNull  %59
%216 = OpTypeFunction %10 %66
%222 = OpTypeFunction %10 %68
%229 = OpTypeFunction %2 %80
%232 = OpConstantNull  %10
%234 = OpConstantNull  %76
%237 = OpTypePointer Input %4
%236 = OpVariable  %237  Input
%240 = OpTypePointer Output %69
%239 = OpVariable  %240  Output
%243 = OpTypePointer StorageBuffer %49
%252 = OpTypePointer StorageBuffer %44
%255 = OpTypePointer StorageBuffer %10
%260 = OpConstant  %4  4
%277 = OpVariable  %240  Output
%295 = OpConstantNull  %6
%301 = OpConstant  %4  64
%107 = OpFunction  %2  None %108
%106 = OpLabel
%102 = OpVariable  %50  Function %103
%104 = OpVariable  %54  Function %105
%109 = OpAccessChain  %51  %92 %3
OpBranch %110
%110 = OpLabel
OpStore %102 %8
%111 = OpLoad  %6  %102
%112 = OpISub  %6  %111 %8
OpStore %102 %112
%113 = OpAccessChain  %52  %109 %3
%114 = OpLoad  %47  %113
%115 = OpAccessChain  %53  %109 %3 %3
%116 = OpLoad  %41  %115
%117 = OpLoad  %6  %102
%118 = OpAccessChain  %53  %109 %3 %117
%119 = OpLoad  %41  %118
%121 = OpAccessChain  %120  %109 %3 %3 %32
%122 = OpLoad  %10  %121
%123 = OpLoad  %6  %102
%124 = OpAccessChain  %120  %109 %3 %3 %123
%125 = OpLoad  %10  %124
%126 = OpLoad  %6  %102
%127 = OpAccessChain  %120  %109 %3 %126 %32
%128 = OpLoad  %10  %127
%129 = OpLoad  %6  %102
%130 = OpLoad  %6  %102
%131 = OpAccessChain  %120  %109 %3 %129 %130
%132 = OpLoad  %10  %131
%133 = OpCompositeConstruct  %41  %9 %9
%134 = OpCompositeConstruct  %41  %11 %11
%135 = OpCompositeConstruct  %41  %12 %12
%136 = OpCompositeConstruct  %47  %133 %134 %135
%137 = OpCompositeConstruct  %48  %136
OpStore %104 %137
%138 = OpLoad  %6  %102
%139 = OpIAdd  %6  %138 %8
OpStore %102 %139
%140 = OpCompositeConstruct  %41  %13 %13
%141 = OpCompositeConstruct  %41  %14 %14
%142 = OpCompositeConstruct  %41  %15 %15
%143 = OpCompositeConstruct  %47  %140 %141 %142
%144 = OpAccessChain  %55  %104 %3
OpStore %144 %143
%145 = OpCompositeConstruct  %41  %16 %16
%146 = OpAccessChain  %56  %104 %3 %3
OpStore %146 %145
%147 = OpLoad  %6  %102
%148 = OpCompositeConstruct  %41  %17 %17
%149 = OpAccessChain  %56  %104 %3 %147
OpStore %149 %148
%151 = OpAccessChain  %150  %104 %3 %3 %32
OpStore %151 %18
%152 = OpLoad  %6  %102
%153 = OpAccessChain  %150  %104 %3 %3 %152
OpStore %153 %19
%154 = OpLoad  %6  %102
%155 = OpAccessChain  %150  %104 %3 %154 %32
OpStore %155 %20
%156 = OpLoad  %6  %102
%157 = OpLoad  %6  %102
%158 = OpAccessChain  %150  %104 %3 %156 %157
OpStore %158 %21
OpReturn
OpFunctionEnd
%164 = OpFunction  %2  None %108
%163 = OpLabel
%159 = OpVariable  %50  Function %160
%161 = OpVariable  %63  Function %162
%165 = OpAccessChain  %60  %98 %3
OpBranch %166
%166 = OpLabel
OpStore %159 %8
%167 = OpLoad  %6  %159
%168 = OpISub  %6  %167 %8
OpStore %159 %168
%169 = OpAccessChain  %61  %165 %3
%170 = OpLoad  %58  %169
%171 = OpAccessChain  %62  %165 %3 %3
%172 = OpLoad  %57  %171
%173 = OpAccessChain  %53  %165 %3 %3 %3
%174 = OpLoad  %41  %173
%175 = OpLoad  %6  %159
%176 = OpAccessChain  %53  %165 %3 %3 %175
%177 = OpLoad  %41  %176
%178 = OpAccessChain  %120  %165 %3 %3 %3 %32
%179 = OpLoad  %10  %178
%180 = OpLoad  %6  %159
%181 = OpAccessChain  %120  %165 %3 %3 %3 %180
%182 = OpLoad  %10  %181
%183 = OpLoad  %6  %159
%184 = OpAccessChain  %120  %165 %3 %3 %183 %32
%185 = OpLoad  %10  %184
%186 = OpLoad  %6  %159
%187 = OpLoad  %6  %159
%188 = OpAccessChain  %120  %165 %3 %3 %186 %187
%189 = OpLoad  %10  %188
%190 = OpCompositeConstruct  %59  %85
OpStore %161 %190
%191 = OpLoad  %6  %159
%192 = OpIAdd  %6  %191 %8
OpStore %159 %192
%193 = OpAccessChain  %64  %161 %3
OpStore %193 %85
%194 = OpCompositeConstruct  %41  %23 %23
%195 = OpCompositeConstruct  %41  %24 %24
%196 = OpCompositeConstruct  %41  %13 %13
%197 = OpCompositeConstruct  %41  %14 %14
%198 = OpCompositeConstruct  %57  %194 %195 %196 %197
%199 = OpAccessChain  %65  %161 %3 %3
OpStore %199 %198
%200 = OpCompositeConstruct  %41  %16 %16
%201 = OpAccessChain  %56  %161 %3 %3 %3
OpStore %201 %200
%202 = OpLoad  %6  %159
%203 = OpCompositeConstruct  %41  %17 %17
%204 = OpAccessChain  %56  %161 %3 %3 %202
OpStore %204 %203
%205 = OpAccessChain  %150  %161 %3 %3 %3 %32
OpStore %205 %18
%206 = OpLoad  %6  %159
%207 = OpAccessChain  %150  %161 %3 %3 %3 %206
OpStore %207 %19
%208 = OpLoad  %6  %159
%209 = OpAccessChain  %150  %161 %3 %3 %208 %32
OpStore %209 %20
%210 = OpLoad  %6  %159
%211 = OpLoad  %6  %159
%212 = OpAccessChain  %150  %161 %3 %3 %210 %211
OpStore %212 %21
OpReturn
OpFunctionEnd
%215 = OpFunction  %10  None %216
%214 = OpFunctionParameter  %66
%213 = OpLabel
OpBranch %217
%217 = OpLabel
%218 = OpLoad  %10  %214
OpReturnValue %218
OpFunctionEnd
%221 = OpFunction  %10  None %222
%220 = OpFunctionParameter  %68
%219 = OpLabel
OpBranch %223
%223 = OpLabel
%224 = OpCompositeExtract  %67  %220 4
%225 = OpCompositeExtract  %10  %224 9
OpReturnValue %225
OpFunctionEnd
%228 = OpFunction  %2  None %229
%227 = OpFunctionParameter  %80
%226 = OpLabel
OpBranch %230
%230 = OpLabel
OpStore %227 %34
OpReturn
OpFunctionEnd
%241 = OpFunction  %2  None %108
%235 = OpLabel
%231 = OpVariable  %66  Function %232
%233 = OpVariable  %77  Function %234
%238 = OpLoad  %4  %236
%242 = OpAccessChain  %51  %92 %3
%244 = OpAccessChain  %243  %95 %3
%245 = OpAccessChain  %60  %98 %3
OpBranch %246
%246 = OpLabel
OpStore %231 %22
%247 = OpLoad  %10  %231
OpStore %231 %9
%248 = OpFunctionCall  %2  %107
%249 = OpFunctionCall  %2  %164
%250 = OpAccessChain  %71  %91 %3
%251 = OpLoad  %38  %250
%253 = OpAccessChain  %252  %91 %29
%254 = OpLoad  %44  %253
%256 = OpAccessChain  %255  %91 %3 %29 %3
%257 = OpLoad  %10  %256
%258 = OpArrayLength  %4  %91 4
%259 = OpISub  %4  %258 %30
%261 = OpAccessChain  %75  %91 %260 %259 %3
%262 = OpLoad  %6  %261
%263 = OpLoad  %49  %244
%264 = OpFunctionCall  %10  %215 %231
%265 = OpConvertFToS  %6  %257
%266 = OpCompositeConstruct  %76  %262 %265 %31 %27 %26
OpStore %233 %266
%267 = OpIAdd  %4  %238 %32
%268 = OpAccessChain  %50  %233 %267
OpStore %268 %33
%269 = OpAccessChain  %50  %233 %238
%270 = OpLoad  %6  %269
%271 = OpFunctionCall  %10  %221 %87
%272 = OpCompositeConstruct  %78  %270 %270 %270 %270
%273 = OpConvertSToF  %69  %272
%274 = OpMatrixTimesVector  %39  %251 %273
%275 = OpCompositeConstruct  %69  %274 %11
OpStore %239 %275
OpReturn
OpFunctionEnd
%278 = OpFunction  %2  None %108
%276 = OpLabel
%279 = OpAccessChain  %243  %95 %3
OpBranch %280
%280 = OpLabel
%281 = OpAccessChain  %255  %91 %3 %32 %30
OpStore %281 %9
%282 = OpCompositeConstruct  %39  %22 %22 %22
%283 = OpCompositeConstruct  %39  %9 %9 %9
%284 = OpCompositeConstruct  %39  %11 %11 %11
%285 = OpCompositeConstruct  %39  %12 %12 %12
%286 = OpCompositeConstruct  %38  %282 %283 %284 %285
%287 = OpAccessChain  %71  %91 %3
OpStore %287 %286
%288 = OpCompositeConstruct  %43  %3 %3
%289 = OpCompositeConstruct  %43  %32 %32
%290 = OpCompositeConstruct  %44  %288 %289
%291 = OpAccessChain  %252  %91 %29
OpStore %291 %290
%292 = OpAccessChain  %75  %91 %260 %32 %3
OpStore %292 %8
OpStore %279 %88
%293 = OpCompositeConstruct  %69  %22 %22 %22 %22
OpStore %277 %293
OpReturn
OpFunctionEnd
%297 = OpFunction  %2  None %108
%296 = OpLabel
%294 = OpVariable  %50  Function %295
OpBranch %298
%298 = OpLabel
%299 = OpAccessChain  %79  %91 %30
%300 = OpAtomicLoad  %6  %299 %8 %301
%303 = OpAccessChain  %79  %91 %30
%302 = OpAtomicIAdd  %6  %303 %8 %301 %26
OpStore %294 %302
%305 = OpAccessChain  %79  %91 %30
%304 = OpAtomicISub  %6  %305 %8 %301 %26
OpStore %294 %304
%307 = OpAccessChain  %79  %91 %30
%306 = OpAtomicAnd  %6  %307 %8 %301 %26
OpStore %294 %306
%309 = OpAccessChain  %79  %91 %30
%308 = OpAtomicOr  %6  %309 %8 %301 %26
OpStore %294 %308
%311 = OpAccessChain  %79  %91 %30
%310 = OpAtomicXor  %6  %311 %8 %301 %26
OpStore %294 %310
%313 = OpAccessChain  %79  %91 %30
%312 = OpAtomicSMin  %6  %313 %8 %301 %26
OpStore %294 %312
%315 = OpAccessChain  %79  %91 %30
%314 = OpAtomicSMax  %6  %315 %8 %301 %26
OpStore %294 %314
%317 = OpAccessChain  %79  %91 %30
%316 = OpAtomicExchange  %6  %317 %8 %301 %26
OpStore %294 %316
%318 = OpAccessChain  %79  %91 %30
OpAtomicStore %318 %8 %301 %300
OpReturn
OpFunctionEnd
%320 = OpFunction  %2  None %108
%319 = OpLabel
OpBranch %321
%321 = OpLabel
%322 = OpFunctionCall  %2  %228 %101
OpReturn
OpFunctionEnd